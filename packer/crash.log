2023/07/13 11:05:34 [INFO] Packer version: 1.9.1 [go1.20.4 darwin amd64]
2023/07/13 11:05:34 [TRACE] discovering plugins in /usr/local/bin
2023/07/13 11:05:34 [TRACE] discovering plugins in /Users/paulaencinarsanz/.config/packer/plugins
2023/07/13 11:05:34 [DEBUG] Discovered plugin: amazon = /Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64
2023/07/13 11:05:34 [INFO] found external [chroot ebs ebssurrogate ebsvolume instance] builders from amazon plugin
2023/07/13 11:05:34 [INFO] found external [import] post-processors from amazon plugin
2023/07/13 11:05:34 found external [ami parameterstore secretsmanager] datasource from amazon plugin
2023/07/13 11:05:34 [TRACE] discovering plugins in .
2023/07/13 11:05:34 [INFO] PACKER_CONFIG env var not set; checking the default config file path
2023/07/13 11:05:34 [INFO] PACKER_CONFIG env var set; attempting to open config file: /Users/paulaencinarsanz/.packerconfig
2023/07/13 11:05:34 [WARN] Config file doesn't exist: /Users/paulaencinarsanz/.packerconfig
2023/07/13 11:05:34 [INFO] Setting cache directory: /Users/paulaencinarsanz/.cache/packer
2023/07/13 11:05:34 [TRACE] listing potential installations for "github.com/hashicorp/amazon" that match ">= 0.0.1". plugingetter.ListInstallationsOptions{FromFolders:[]string{"/usr/local/bin/packer", ".", "/Users/paulaencinarsanz/.config/packer/plugins"}, BinaryInstallationOptions:plugingetter.BinaryInstallationOptions{APIVersionMajor:"5", APIVersionMinor:"0", OS:"darwin", ARCH:"amd64", Ext:"", Checksummers:[]plugingetter.Checksummer{plugingetter.Checksummer{Type:"sha256", Hash:(*sha256.digest)(0xc000062100)}}}}
2023/07/13 11:05:34 [TRACE] Found the following "github.com/hashicorp/amazon" installations: [{/Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64 v1.1.6}]
2023/07/13 11:05:34 [INFO] found external [chroot ebs ebssurrogate ebsvolume instance] builders from amazon plugin
2023/07/13 11:05:34 [INFO] found external [import] post-processors from amazon plugin
2023/07/13 11:05:34 found external [ami parameterstore secretsmanager] datasource from amazon plugin
2023/07/13 11:05:34 [TRACE] Starting external plugin /Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64 start datasource ami
2023/07/13 11:05:34 Starting plugin: /Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64 []string{"/Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64", "start", "datasource", "ami"}
2023/07/13 11:05:34 Waiting for RPC address for: /Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64
2023/07/13 11:05:34 ui error: Cancelling build after receiving interrupt
2023/07/13 11:05:34 /Users/paulaencinarsanz/.config/packer/plugins/github.com/hashicorp/amazon/packer-plugin-amazon_v1.1.6_x5.0_darwin_amd64: plugin process exited
2023/07/13 11:05:34 waiting for all plugin processes to complete...
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x19e97d0]

goroutine 1 [running]:
github.com/hashicorp/packer/hcl2template.decodeHCL2Spec({0x44857c0, 0xc0004580b0}, 0xc0008beb78?, {0x0?, 0x0?})
	github.com/hashicorp/packer/hcl2template/decode.go:20 +0x30
github.com/hashicorp/packer/hcl2template.(*PackerConfig).startDatasource(0xc000152b40, {0x2ebf3c68, 0xc000808300}, {{0xc000597140, 0xa}, {0xc0004500d8, 0x11}}, 0x65?)
	github.com/hashicorp/packer/hcl2template/types.datasource.go:111 +0x3fb
github.com/hashicorp/packer/hcl2template.(*PackerConfig).evaluateDatasources(0xc000152b40, 0x0)
	github.com/hashicorp/packer/hcl2template/types.packer_config.go:352 +0x639
github.com/hashicorp/packer/hcl2template.(*PackerConfig).Initialize(0xc000152b40, {0xf0?})
	github.com/hashicorp/packer/hcl2template/parser.go:324 +0x4db
github.com/hashicorp/packer/command.(*BuildCommand).RunContext(0xc0003e7140, {0x4484f70?, 0xc00059e140}, 0xc0005de3f0)
	github.com/hashicorp/packer/command/build.go:90 +0xa4
github.com/hashicorp/packer/command.(*BuildCommand).Run(0xc0003e7140, {0xc0001181a0, 0x1, 0x1})
	github.com/hashicorp/packer/command/build.go:41 +0xc5
github.com/mitchellh/cli.(*CLI).Run(0xc0001523c0)
	github.com/mitchellh/cli@v1.1.2/cli.go:262 +0x5f8
main.wrappedMain()
	github.com/hashicorp/packer/main.go:265 +0xca5
main.realMain()
	github.com/hashicorp/packer/main.go:52 +0xf5
main.main()
	github.com/hashicorp/packer/main.go:38 +0x19
